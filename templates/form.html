<!doctype html>

{% if not story_id %}

<head>
    <h1>User Story Manager - Add new Story</h1>
    <title>Super Sprinter 3000 - Add new Story</title>
</head>
<body>
<form action="/list" method="get">
<button id="back-to-main-create" type="submit">Back to Story Manager</button>
</form>
<form action="read-added-data" method="post">

    <p>Story Title:</p>
    <p><input id="story_title" type="text" name="story-title" required></p>

    <p>User Story:</p>
    <p><textarea id="user_story" name="user-story" rows="5" cols="20" required></textarea></p>
    
    <p>Acceptance criteria:</p>
    <p><textarea id="accept_crit" name="accept-crit" rows="5" cols="20" required></textarea></p>
    
    <p>Business value:</p>
    <input id="bussines_value" type="number" name="bussines-value" value="100" min="100" max="1500" step="100">

    <p>Estimation (h):</p>
    <input id="estim_time" type="number" name="estimation" value="0.5" min="0.5" max="40" step="0.5">

    <p>Status:</p>
    <select id="stat" name="status">
        <option value="Planning">Planning</option>
        <option value="TODO">TODO</option>
        <option value="In Progress">In Progress</option>
        <option value="Review">Review</option>
        <option value="Done">Done</option>
    </select>
<p><input id="create_button" type="submit" name="create" value="Create"></p>
</form>
</body>

{% else %}

<head>
    <h1>User Story Manager - Edit Story</h1>
    <title>Super Sprinter 3000 - Edit Story</title>

</head>
<body>
<form action="/list" method="get">
<button id="back-to-main-edit" type="submit">Back to Story Manager</button>
</form>
<form action="/edit-story" method="post">
   {% for data in form_data %}
    <p>Story Title:</p>
    <p><input id="changed_story_title" type="text" name="changed-story-title" value="{{ data[1] }}" required></p>

    <p>User Story:</p>
    <p><textarea id="changed_user_story" name="changed-user-story" rows="5" cols="20" required>{{ data[2] }}</textarea></p>

    <p>Acceptance criteria:</p>
    <p><textarea id="changed_accept_crit" name="changed-accept-crit" rows="5" cols="20" required>{{ data[3] }}</textarea></p>
    
    <p>Business value:</p>
    <input id="changed_bussines_value" type="number" name="changed-bussines-value" min="100" max="1500" step="100" value="{{ data[4] }}">

    <p>Estimation (h):</p>
    <input id="changed_estimation" type="number" name="changed-estimation" min="0.5" max="40" step="0.5" value="{{ data[5] }}">
    <p>Status:</p>
    <select id="changed_status" name="changed-status">
        <option value="Planning">Planning</option>
        <option value="TODO">TODO</option>
        <option value="In Progress">In Progress</option>
        <option value="Review">Review</option>
        <option value="Done">Done</option>
    </select>
    <p><button id="update_button" name="edit" type="submit" value="{{ data[0] }}">Update</button></p>
</form>
{% endfor %}
</body>

{% endif %}

